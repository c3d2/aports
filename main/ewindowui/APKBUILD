# Contributor:
# Maintainer: Jonathan Sieber <mail@strfry.org>
pkgname=ewindowui
pkgver=0.3
pkgrel=2
ref=0914447
pkgdesc="ewindow is a portable and modular SIP User-Agent with audio and video support."
url="http://ewindow.org"
arch="all"
license="BSD"
depends="qt5-qtdeclarative re rem baresip"
makedepends="qt5-qtdeclarative-dev re-dev rem-dev baresip-dev"
install=""
options="!check"
builddir="$srcdir/teilWERK-ewindowui-$ref"
source="teilWERK-ewindowui-0.3-0-$ref.tar.gz::https://api.github.com/repos/teilWERK/ewindowui/tarball/$ref
	build-no-deps.patch"


build() {
	cd "$builddir"
	qmake-qt5 PREFIX="$pkgdir" || return 1
	make || return 1
}

package() {
	cd "$builddir"
	install -d "$pkgdir"/usr/ewindow/
	install -m 0755 ewindow "$pkgdir"/usr/ewindow/
        install -d "$pkgdir"/usr/ewindow/gui
	install gui/* "$pkgdir"/usr/ewindow/gui
#	make DESTDIR="$pkgdir" install || return 1
}

sha512sums="2d376470f711ee8b7b351111d9301d54993ea9d624a4937c68b2c841b7564ba995c1b455bd31d4ca5c0dbd526d1bc0ad5034a40eeb84ab579264ebe9f2fada5b  teilWERK-ewindowui-0.3-0-0914447.tar.gz
15a0c35f39655868256fcd73d2dba8f386c8a9adb5eb7df75a44416b4223b98a4876d4241b23ed105da43070cd9a0b74f9612df9db2dbb1193a67d3e503423a4  build-no-deps.patch"
